<html>
<head>
	<title>What Period Is It?</title>
  <link href="https://fonts.googleapis.com/css?family=Muli:300" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link rel="stylesheet" href="stylesheet.css">
</head>
<body onload="whatPeriod()">
  <p></p>
  <div class="whole" id="textdiv">
	<p class="horizontal" id="date1">Current time: <span id="date"></span></p>
	<p class="horizontal" id="currentperiod1">Current period: <span id="currentperiod"></span></p>
	<p class="horizontal" id="nextperiod1">Next period: <span id="nextperiod"></span></p>
  <span class="subnextperiod" id="minnextperiod1">Minutes until next period: <span id="minnextperiod"></span></span>
  <span class="subnextperiod" id="secnextperiod1">Seconds until next period: <span id="secnextperiod"></span></span>
</div>
  <a href="index.html"><div class="periodbutton">
      <button class="btn btn-primary">How Much Time Until 2019 Graduation?</button>
  </div></a>

	<script>
    function whatPeriod(){
        var d = new Date();
  			var h = d.getHours();
  			var m = d.getMinutes();
  			var w = d.getDay();
        var s = d.getSeconds();
  			var p = "Nice, it's not school right now!";
  			var n = "ERROR!!";
        var t = (h * 3600) + (m * 60) + s;
        document.getElementById("date").innerHTML = d;
  			if (w == 0) {
  		    document.getElementById("currentperiod").innerHTML = "It's a weekend, what are you doing checking the period?!";
  		    document.getElementById("nextperiod").innerHTML = 1;
          secnext = (86400 - t) + 29400;
  			}
  			else if (w == 1) {
				  if (t < 29400) {n = 1; secnext = 29400 - t}
				  else if (29400 <= t && t < 32400) {p = 1; n = 2; secnext = 32400 - t}
  				else if (32400 <= t && t < 33600) {p = 2; n = "Town Meeting"; secnext = 33600 - t} 
  				else if (33600 <= t && t < 34800) {p = "Town Meeting"; n = "Break"; secnext = 34800 - t}  
  				else if (34800 <= t && t < 37800) {p = "Break"; n = 3; secnext = 37800 - t}
  				else if (37800 <= t && t < 40800) {p = 3; n = 4; secnext = 40800 - t}
  				else if (40800 <= t && t < 43200) {p = 4; n = "Lunch"; secnext = 43200 - t}
  				else if (43200 <= t && t < 46200) {p = "Lunch"; n = 5; secnext = 46200 - t}
  				else if (46200 <= t && t < 49200) {p = 5; n = 6; secnext = 49200 - t}
  				else if (49200 <= t && t < 52200) {p = 6; n = 7; secnext = 52200 - t}
  				else if (52200 <= t && t < 55200) {p = 7; n = 1; secnext = 55200 - t}
  				else {n = 1; secnext = (86400 - t) + 29400}
  				document.getElementById("currentperiod").innerHTML = p;
  				document.getElementById("nextperiod").innerHTML = n;
          document.getElementById("secnextperiod").innerHTML = secnext;
  			}
  			else if (w == 2) {
  				if (t < 29400) {n = 1; secnext = 29400 - t}
				  else if (29400 <= t && t < 35400) {p = 1; n = "Advisory"; secnext = 35400 - t}
  				else if (35400 <= t && t < 36600) {p = "Advisory"; n= "Break"; secnext = 36600 - t} 
  				else if (34800 <= t && t < 38400) {p = "Break"; n = 2; secnext = 38400 - t}
  				else if (38400 <= t && t < 42000) {p = 2; n = 6; secnext = 42000 - t}
  				else if (42000 <= t && t < 45600) {p = 6; n = "Lunch"; secnext = 45600 - t}
  				else if (45600 <= t && t < 49200) {p = "Lunch"; n = 7; secnext = 49200 - t}
  				else if (49200 <= t && t < 55200) {p = 7; n = 3; secnext = 55200 - t}
  				else {n = 3; secnext = (86400 - t) + 29400}
  				document.getElementById("currentperiod").innerHTML = p;
  				document.getElementById("nextperiod").innerHTML = n;
          document.getElementById("secnextperiod").innerHTML = secnext;
  			}
  			else if (w == 3) {
  				if (t < 29400) {n = 3; secnext = 29400 - t}
				  else if (29400 <= t && t < 35400) {p = 3; n = "Town Meeting"; secnext = 35400 - t}
  				else if (35400 <= t && t < 36600) {p = "Town Meeting"; n = "Break"; secnext = 36600 - t}
  				else if (34800 <= t && t < 38400) {p = "Break"; n = "Flex"; secnext = 38400 - t}
  				else if (38400 <= t && t < 42000) {p = "Flex"; n = 4; secnext = 42000 - t}
  				else if (42000 <= t && t < 45600) {p = 4; n = "Lunch"; secnext = 45600 - t}
  				else if (45600 <= t && t < 49200) {p = "Lunch"; n = 5; secnext = 49200 - t}
  				else if (49200 <= t && t < 55200) {p = 5; n = 2; secnext = 55200 - t}
  				else {n = 2; secnext = (86400 - t) + 29400}
  				document.getElementById("currentperiod").innerHTML = p;
  				document.getElementById("nextperiod").innerHTML = n;
          document.getElementById("secnextperiod").innerHTML = secnext;
  			}
  			else if (w == 4) {
  				if (t < 29400) {n = 1; secnext = 29400 - t}
				  else if (29400 <= t && t < 35400) {p = 2; n = "Advisory"; secnext = 35400 - t}
  				else if (35400 <= t && t < 36600) {p = "Advisory"; n = "Break"; secnext = 36600 - t}
  				else if (34800 <= t && t < 38400) {p = "Break"; n = 1; secnext = 38400 - t}
  				else if (38400 <= t && t < 42000) {p = 1; n = 7; secnext = 42000 - t}
  				else if (42000 <= t && t < 45600) {p = 7; n = "Lunch"; secnext = 45600 - t}
  				else if (45600 <= t && t < 49200) {p = "Lunch"; n = 6; secnext = 49200 - t}
  				else if (49200 <= t && t < 55200) {p = 6; n = 4; secnext = 55200 - t}
  				else {n = 4; secnext = (86400 - t) + 29400}
  				document.getElementById("currentperiod").innerHTML = p;
  				document.getElementById("nextperiod").innerHTML = n;
          document.getElementById("secnextperiod").innerHTML = secnext;
  			}
  			else if (w == 5) {
  				if (t < 29400) {n = 4; secnext = 29400 - t}
				  else if (29400 <= t && t < 35400) {p = 4; n = "Town Meeting"; secnext = 35400 - t}
  				else if (35400 <= t && t < 36600) {p = "Town Meeting"; n = "Break"; secnext = 36600 - t}
  				else if (36600 <= t && t < 38400) {p = "Break"; n = "Flex"; secnext = 38400 - t}
  				else if (38400 <= t && t < 41400) {p = "Flex"; n = 3; secnext = 41400 - t}
  				else if (41400 <= t && t < 45000) {p = 3; n = "Lunch"; secnext = 45000 - t}
  				else if (45000 <= t && t < 48600) {p = "Lunch"; n = 5; secnext = 48600 - t}
  				else if (48600 <= t && t < 52200) {p = 5; n = 1; secnext = 52200 - t}
  				else {n = 1; secnext = ((86400 * 3) - t + 29400)}
  				document.getElementById("currentperiod").innerHTML = p;
  				document.getElementById("nextperiod").innerHTML = n;
          document.getElementById("secnextperiod").innerHTML = secnext;
  			}
  			else if (w == 6) {
  				document.getElementById("currentperiod").innerHTML = "It's a weekend, what are you doing checking the period?!";
  				document.getElementById("nextperiod").innerHTML = 1;
          secnext = ((86400 * 2) - t + 29400);
  			}
        var minnext = Number(document.getElementById("secnextperiod").innerHTML) / 60;
        document.getElementById("minnextperiod").innerHTML = Math.round(minnext);
		}
    window.setInterval(function(){
          whatPeriod();
         }, 1000);
	</script>

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
</body>
</html>
